// stop.js
// ‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ global STOP ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
// ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá‡¶á ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá

module.exports.config = {
    name: "stop",
    version: "1.0.0",
    hasPermssion: 0,          // ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶ì STOP ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá
    credits: "Grok for Hridoy",
    description: "‡¶∏‡¶¨ ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ/‡¶ó‡¶æ‡¶≤‡¶ø/‡¶≤‡ßÅ‡¶™ ‡¶•‡¶æ‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø (STOP ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶¶‡¶æ‡¶ì)",
    commandCategory: "system",
    usages: "‡¶∂‡ßÅ‡¶ß‡ßÅ bot ‡¶è‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá STOP ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶¶‡¶æ‡¶ì",
    cooldowns: 3
};

// ‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶æ run ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á, ‡¶∂‡ßÅ‡¶ß‡ßÅ handleReply ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá
module.exports.handleReply = async function({ api, event }) {
    const body = event.body ? event.body.trim().toUpperCase() : "";

    if (body === "STOP" || body === "Stop" || body === "stop" || body === "STOP NOW") {
        // ‡¶∏‡¶¨ ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ó ‡¶Ö‡¶´ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá
        global.isSpamming = false;
        global.powerSpamActive = false;
        global.boomSpamActive = false;
        global.spamControl = global.spamControl || { active: false, threads: new Set() };
        global.spamControl.active = false;
        global.spamControl.threads.clear();

        // ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ: ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶•‡ßç‡¶∞‡ßá‡¶°-‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ó ‡¶•‡¶æ‡¶ï‡ßá
        if (global.activeSpamThreads) {
            global.activeSpamThreads = new Set();
        }

        api.sendMessage(
            "üõë ‡¶∏‡¶¨ ‡¶ö‡¶≤‡¶Æ‡¶æ‡¶® ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ, ‡¶ó‡¶æ‡¶≤‡¶ø, ‡¶≤‡ßÅ‡¶™, ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞, ‡¶¨‡ßÅ‡¶Æ ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶¨‡¶®‡ßç‡¶ß!\n" +
            "‡¶¨‡¶ü ‡¶è‡¶ñ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶ö‡ßÅ‡¶™ ‡¶ï‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶®‡¶æ ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶¶‡¶æ‡¶ì‡•§\n" +
            "‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶Ø‡ßá ‡¶•‡¶æ‡¶Æ‡¶æ‡¶≤‡¶ø üî•",
            event.threadID,
            event.messageID
        );

        // ‡¶Ö‡¶™‡¶∂‡¶®‡¶æ‡¶≤: ‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶∞ ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ó ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü (‡¶Ø‡¶æ‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡ßü)
        setTimeout(() => {
            global.isSpamming = false;
        }, 60000);
    }
};

// run ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶∞‡¶æ‡¶ñ‡¶≤‡¶æ‡¶Æ, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶è‡¶ü‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á
module.exports.run = async function() {
    // ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶®‡ßá‡¶á
    return;
};
